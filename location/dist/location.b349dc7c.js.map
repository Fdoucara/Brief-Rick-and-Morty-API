{"version":3,"sources":["location.js"],"names":["fetch","then","responseAPI","console","log","json","dataInJson","results","info","count","i","addLocation","showOrHide","location","mainContainerLocation","document","querySelector","innerHTML","id","name","type","dimension","residents","forEach","element","mainLink","getElementById","elem","cliquable","querySelectorAll","addEventListener","nextElementSibling","classList","contains","remove","add"],"mappings":"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","file":"location.b349dc7c.js","sourceRoot":"..","sourcesContent":["//------------locations-------------------//\r\n\r\nfetch (\"https://rickandmortyapi.com/api/location/\")\r\n.then(function(responseAPI) {\r\nconsole.log(\"Just after reception of our response:\", responseAPI);\r\nreturn responseAPI.json();\r\n})\r\n.then(function(dataInJson) {\r\nconsole.log(\"Response in JSON\", dataInJson);\r\nconsole.log(\"Content of attribute results\", dataInJson.results);\r\n// data du tableau => [\"id\", \"name\", \"type\", \"dimension\"]\r\nconsole.log(\"Content of attribute info.count\", dataInJson.info.count);\r\n// data de l'objet info => 108 location au total\r\n  for (let i = 1; i <= dataInJson.info.count; i++) {\r\n// on incremente et on concatène pour obtenir un objet pour chaque lieu\r\n    fetch (\"https://rickandmortyapi.com/api/location/\" + i)   \r\n    .then(function(responseAPI) {return responseAPI.json();})\r\n    .then(function(dataInJson) {addLocation(dataInJson); showOrHide(\".container-location-m\");\r\n    })}    \r\n })\r\n\r\n  function addLocation(location) {\r\n  const mainContainerLocation = document.querySelector(\".container-m\");\r\n  mainContainerLocation.innerHTML +=\r\n//affichage du \"id\", \"name\", \"type\" et \"dimension\" de l'API \"location\" dans ma div de gauche (class=\"container-m\")\r\n\r\n  `<section>\r\n  <div class=\"container-location-m\">\r\n      <span>${location.id} / </span>\r\n      <span>${location.name} / </span>\r\n      <span>${location.type} / </span>\r\n      <span>${location.dimension}</span>\r\n  </div>\r\n      <div class=\"residents-m hide-m\">\r\n      <ul id=\"${location.residents}\">`     \r\n\r\n//conversion des string uri \"residents\" (api location) en \"name\" (api character)\r\n//pour cela appel à une boucle forEach (pour chaque élément) \"residents\" -> \"name\"\r\n\r\n  location.residents.forEach(element => {\r\n    fetch (element)\r\n    .then(function(responseAPI) {return responseAPI.json();})\r\n    .then(function(dataInJson) {\r\n      const mainLink = document.getElementById(location.residents);\r\n      mainLink.innerHTML +=\r\n      `<li class=\"bloc-li-m\"><i class=\"fas fa-star\">${dataInJson.name}</i></li>`\r\n      //affichage \"name\" de tous les residents de toutes les planètes dans ma div de droite (class=\"container-li-m\")\r\n      //const containerLi = document.querySelector(\".container-li-m\");\r\n      //containerLi.innerHTML += `<li class=\"show-m li-m\">${dataInJson.name}</li>`\r\n      //update: jai enlever ma deuxieme div, parce que je trouve que cela faisait pas trop jolie, j ai mis un scroll a la place\r\n    })\r\n  })\r\n  mainContainerLocation.innerHTML += \r\n    `</ul>\r\n    </div> \r\n  </br>\r\n  </section>`\r\n}\r\n\r\n//fonction montrer ou cacher les li au click sur le ul\r\n\r\nfunction showOrHide(elem){\r\n  console.log(\"showOrHide()\")\r\n  var cliquable = document.querySelectorAll(elem)\r\n  cliquable.forEach(cliquable =>{\r\n      cliquable.addEventListener(\"click\", function(){\r\n          console.log(\"clicked\")\r\n          if (this.nextElementSibling.classList.contains(\"hide-m\")){\r\n              this.nextElementSibling.classList.remove(\"hide-m\")\r\n              this.nextElementSibling.classList.add(\"show-m\")\r\n          } else {\r\n              this.nextElementSibling.classList.remove(\"show-m\")\r\n              this.nextElementSibling.classList.add(\"hide-m\")\r\n          }\r\n          \r\n      })\r\n  })\r\n}\r\n\r\n  /*\r\n   fetch (\"https://rickandmortyapi.com/api/character/\")\r\n  .then(function(responseAPI) {\r\n  console.log(\"Just after reception of our response:\", responseAPI);\r\n  return responseAPI.json();\r\n  })\r\n  \r\n  .then(function(dataInJson) {\r\n  console.log(\"Response in JSON\", dataInJson);\r\n  console.log(\"Content of attribute results\", dataInJson.results.name);\r\n  // data du tableau juste pour element \"name\"=> [\"name\"]\r\n  console.log(\"Content of attribute info.count\", dataInJson.info.count);\r\n      for (let i = 1; i < dataInJson.info.count ; i++) {\r\n        fetch (\"https://rickandmortyapi.com/api/character/\" + i)   \r\n        .then(function(responseAPI) {return responseAPI.json();})\r\n        .then(function(dataInJson) {addResidents(dataInJson);})}\r\n        \r\n  })\r\n\r\n  function addResidents(habitants) {\r\n  const containerTableau = document.getElementById(\"residents-m\");\r\n  containerTableau.innerHTML +=\r\n  `<section> \r\n  <div class=\"habitants-m\">\r\n    <span>${habitants.name}</span>\r\n  </div>\r\n  </br>\r\n  </section>`\r\n  }   \r\n  */\r\n  "]}